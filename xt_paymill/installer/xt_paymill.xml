<?xml version="1.0" encoding="UTF-8"?>
<xtcommerceplugin>
    <title>PAYMILL</title>
    <version>2.1.0</version>
    <code>xt_paymill</code>
    <url>http://www.paymill.de</url>
    <description>Paymill Payment Plugin</description>
    <icon>icon_paymill.png</icon>
    <type>payment</type>
    <payment>
        <payment_code>xt_paymill</payment_code>
        <payment_dir>xt_paymill</payment_dir>
        <payment_icon></payment_icon>
        <payment_tpl>xt_paymill.html</payment_tpl>
        <de>
            <title>PAYMILL</title>
            <description></description>
        </de>
        <en>
            <title>PAYMILL</title>
            <description></description>
        </en>
    </payment>
    <db_install>
        <![CDATA[
            $db->Execute("INSERT INTO ".TABLE_PAYMENT_COST." (`payment_id`, `payment_geo_zone`, `payment_country_code`, `payment_type_value_from`, `payment_type_value_to`, `payment_price`,`payment_allowed`) VALUES(".$payment_id.", 24, '', 0, 10000.00, 0, 1);");
            $db->Execute("INSERT INTO ".TABLE_PAYMENT_COST." (`payment_id`, `payment_geo_zone`, `payment_country_code`, `payment_type_value_from`, `payment_type_value_to`, `payment_price`,`payment_allowed`) VALUES(".$payment_id.", 25, '', 0, 10000.00, 0, 1);");
            $db->Execute("INSERT INTO ".TABLE_PAYMENT_COST." (`payment_id`, `payment_geo_zone`, `payment_country_code`, `payment_type_value_from`, `payment_type_value_to`, `payment_price`,`payment_allowed`) VALUES(".$payment_id.", 26, '', 0, 10000.00, 0, 1);");
            $db->Execute("INSERT INTO ".TABLE_PAYMENT_COST." (`payment_id`, `payment_geo_zone`, `payment_country_code`, `payment_type_value_from`, `payment_type_value_to`, `payment_price`,`payment_allowed`) VALUES(".$payment_id.", 27, '', 0, 10000.00, 0, 1);");
            $db->Execute("INSERT INTO ".TABLE_PAYMENT_COST." (`payment_id`, `payment_geo_zone`, `payment_country_code`, `payment_type_value_from`, `payment_type_value_to`, `payment_price`,`payment_allowed`) VALUES(".$payment_id.", 28, '', 0, 10000.00, 0, 1);");
            $db->Execute("INSERT INTO ".TABLE_PAYMENT_COST." (`payment_id`, `payment_geo_zone`, `payment_country_code`, `payment_type_value_from`, `payment_type_value_to`, `payment_price`,`payment_allowed`) VALUES(".$payment_id.", 29, '', 0, 10000.00, 0, 1);");
            $db->Execute("INSERT INTO ".TABLE_PAYMENT_COST." (`payment_id`, `payment_geo_zone`, `payment_country_code`, `payment_type_value_from`, `payment_type_value_to`, `payment_price`,`payment_allowed`) VALUES(".$payment_id.", 30, '', 0, 10000.00, 0, 1);");
            $db->Execute("INSERT INTO ".TABLE_PAYMENT_COST." (`payment_id`, `payment_geo_zone`, `payment_country_code`, `payment_type_value_from`, `payment_type_value_to`, `payment_price`,`payment_allowed`) VALUES(".$payment_id.", 31, '', 0, 10000.00, 0, 1);");
        ]]>
    </db_install>
    <plugin_code>
        <code>
            <hook>module_checkout.php:checkout_process_data</hook>
            <phpcode>
                <![CDATA[
                    if ($payment_code === "xt_paymill") {
                        $payment_module_data->checkoutProcessData();
                    }
                ]]>
            </phpcode>
            <order>1</order>
            <active>1</active>
        </code>
        <code>
            <hook>module_checkout.php:checkout_pre_data</hook>
            <phpcode>
                <![CDATA[
                    $payment_code = $_SESSION['selected_payment'];
                    if ($payment_code === "xt_paymill") {
                        require_once(_SRV_WEBROOT . _SRV_WEB_PLUGINS . $payment_code . '/classes/payment/' . 'class.' . $payment_code . '.php');
                        $payment_module_data = new $payment_code();
                        $payment_module_data->checkoutPreData();
                    }
                ]]>
            </phpcode>
            <order>2</order>
            <active>1</active>
        </code>
    </plugin_code>
    <configuration_payment>
        <config>
            <key>ACTIVATE_PAYMILLCC</key>
            <type>dropdown</type>
            <value>true</value>
            <url>conf_truefalse</url>
            <sort_order>5</sort_order>
            <de>
                <title>PAYMILL Kreditkarte aktivieren</title>
            </de>
            <en>
                <title>Activate PAYMILL Creditcard</title>
            </en>
        </config>
        <config>
            <key>ACTIVATE_PAYMILLELV</key>
            <type>dropdown</type>
            <value>true</value>
            <url>conf_truefalse</url>
            <sort_order>5</sort_order>
            <de>
                <title>PAYMILL Lastschrift aktivieren</title>
            </de>
            <en>
                <title>Activate PAYMILL Direct Debit</title>
            </en>
        </config>
        <config>
            <key>PRIVATE_API_KEY</key>
            <type>textfield</type>
            <de>
                <title>Geheimer API Key</title>
            </de>
            <en>
                <title>Private API Key</title>
            </en>
        </config>
        <config>
            <key>PUBLIC_API_KEY</key>
            <type>textfield</type>
            <de>
                <title>Öffentlicher API Key</title>
            </de>
            <en>
                <title>Public API Key</title>
            </en>
        </config>
        <config>
            <key>DEBUG_MODE</key>
            <type>textfield</type>
            <de>
                <title>Debug Modus</title>
            </de>
            <en>
                <title>Debug Mode</title>
            </en>
        </config>
    </configuration_payment>
    <language_content>
        <phrase>
            <key>TEXT_PAYMILL_CC_NAME</key>
            <class>store</class>
            <de>
                <value>Kreditkarte</value>
            </de>
            <en>
                <value>Creditcard</value>
            </en>
        </phrase>
        <phrase>
            <key>TEXT_PAYMILL_ELV_NAME</key>
            <class>store</class>
            <de>
                <value>Lastschrift</value>
            </de>
            <en>
                <value>Direct Debit</value>
            </en>
        </phrase>
        <phrase>
            <key>TEXT_PAYMILL_CC_CCNR</key>
            <class>store</class>
            <de>
                <value>Kreditkartennummer</value>
            </de>
            <en>
                <value>Credit Card Number</value>
            </en>
        </phrase>
        <phrase>
            <key>TEXT_PAYMILL_CC_CVC</key>
            <class>store</class>
            <de>
                <value>Kreditkartenprüfnummer</value>
            </de>
            <en>
                <value>Credit Card Verification Number</value>
            </en>
        </phrase>
        <phrase>
            <key>TEXT_PAYMILL_CC_HOLDER</key>
            <class>store</class>
            <de>
                <value>Kreditkartenprüfnummer</value>
            </de>
            <en>
                <value>Credit Card Verification Number</value>
            </en>
        </phrase>
        <phrase>
            <key>TEXT_PAYMILL_CC_DATE</key>
            <class>store</class>
            <de>
                <value>Gültigkeitsdatum (MM/JJJJ)</value>
            </de>
            <en>
                <value>Expiry date (MM/YYYY)</value>
            </en>
        </phrase>
        <phrase>
            <key>TEXT_PAYMILL_CC_ERR_NR_EMPTY</key>
            <class>store</class>
            <de>
                <value>Bitte geben Sie Ihre Kreditkartennummer ein.</value>
            </de>
            <en>
                <value>Please insert your credit card number.</value>
            </en>
        </phrase>
        <phrase>
            <key>TEXT_PAYMILL_CC_ERR_NR</key>
            <class>store</class>
            <de>
                <value>Ihre Kreditkartennummer ist ungültig.</value>
            </de>
            <en>
                <value>Your credit card number is invalid.</value>
            </en>
        </phrase>
        <phrase>
            <key>TEXT_PAYMILL_CC_ERR_DATE</key>
            <class>store</class>
            <de>
                <value>Das Gültigkeitsdatum ist ungültig.</value>
            </de>
            <en>
                <value>The expiry date is invalid.</value>
            </en>
        </phrase>
        <phrase>
            <key>TEXT_PAYMILL_CC_ERR_CVC_EMPTY</key>
            <class>store</class>
            <de>
                <value>Bitte geben Sie die Kartenprüfnummer ein.</value>
            </de>
            <en>
                <value>Please insert cour credit cards verification code.</value>
            </en>
        </phrase>
        <phrase>
            <key>TEXT_PAYMILL_CC_ERR_CVC</key>
            <class>store</class>
            <de>
                <value>Die Kartenprüfnummer ist ungültig.</value>
            </de>
            <en>
                <value>Your credit card verification code is invalid.</value>
            </en>
        </phrase>
    </language_content>
</xtcommerceplugin>